var fixedFootnotes=function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=15)}([function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){var o=n(2),i=o.Symbol;t.exports=i},function(t,e,n){var o=n(6),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();t.exports=r},function(t,e,n){function o(t,e,n){var o=!0,f=!0;if("function"!=typeof t)throw new TypeError(s);return r(n)&&(o="leading"in n?!!n.leading:o,f="trailing"in n?!!n.trailing:f),i(t,e,{leading:o,maxWait:e,trailing:f})}var i=n(9),r=n(0),s="Expected a function";t.exports=o},function(t,e){t.exports={emptyElement:function(t){for(var e;e=t.lastChild;)t.removeChild(e)},removeAllIds:function(t){t.id="";for(var e=t.getElementsByTagName("*"),n=0;n<e.length;n++)e[n].id=""},isElementInViewport:function(t,e){var n=t.getBoundingClientRect();return n.bottom>=0&&n.right>=0&&n.top<=(e.innerHeight||e.document.documentElement.clientHeight)&&n.left<=(e.innerWidth||e.document.documentElement.clientWidth)}}},function(t,e,n){function o(t){return null==t?void 0===t?c:f:u&&u in Object(t)?r(t):s(t)}var i=n(1),r=n(7),s=n(8),f="[object Null]",c="[object Undefined]",u=i?i.toStringTag:void 0;t.exports=o},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(14))},function(t,e,n){function o(t){var e=s.call(t,c),n=t[c];try{t[c]=void 0;var o=!0}catch(t){}var i=f.call(t);return o&&(e?t[c]=n:delete t[c]),i}var i=n(1),r=Object.prototype,s=r.hasOwnProperty,f=r.toString,c=i?i.toStringTag:void 0;t.exports=o},function(t,e){function n(t){return i.call(t)}var o=Object.prototype,i=o.toString;t.exports=n},function(t,e,n){function o(t,e,n){function o(e){var n=y,o=_;return y=_=void 0,L=e,g=t.apply(o,n)}function a(t){return L=t,b=setTimeout(p,e),E?o(t):g}function d(t){var n=t-C,o=t-L,i=e-n;return j?u(i,w-o):i}function l(t){var n=t-C,o=t-L;return void 0===C||n>=e||n<0||j&&o>=w}function p(){var t=r();if(l(t))return h(t);b=setTimeout(p,d(t))}function h(t){return b=void 0,O&&y?o(t):(y=_=void 0,g)}function v(){void 0!==b&&clearTimeout(b),L=0,y=C=_=b=void 0}function m(){return void 0===b?g:h(r())}function x(){var t=r(),n=l(t);if(y=arguments,_=this,C=t,n){if(void 0===b)return a(C);if(j)return b=setTimeout(p,e),o(C)}return void 0===b&&(b=setTimeout(p,e)),g}var y,_,w,g,b,C,L=0,E=!1,j=!1,O=!0;if("function"!=typeof t)throw new TypeError(f);return e=s(e)||0,i(n)&&(E=!!n.leading,j="maxWait"in n,w=j?c(s(n.maxWait)||0,e):w,O="trailing"in n?!!n.trailing:O),x.cancel=v,x.flush=m,x}var i=n(0),r=n(12),s=n(13),f="Expected a function",c=Math.max,u=Math.min;t.exports=o},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){function o(t){return"symbol"==typeof t||r(t)&&i(t)==s}var i=n(5),r=n(10),s="[object Symbol]";t.exports=o},function(t,e,n){var o=n(2),i=function(){return o.Date.now()};t.exports=i},function(t,e,n){function o(t){if("number"==typeof t)return t;if(r(t))return s;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(f,"");var n=u.test(t);return n||a.test(t)?d(t.slice(2),n?2:8):c.test(t)?s:+t}var i=n(0),r=n(11),s=NaN,f=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,a=/^0o[0-7]+$/i,d=parseInt;t.exports=o},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var o=n(4),i=n(3),r=function(t,e){this.options=Object.assign({},this.defaultOptions,t),this._window=e||window;var n=this._createFixedContainer();this._fixedContainer=n,this._fixedContainerList=n.firstChild,this._refreshListeners=[],this._eventListener=i(this.refresh.bind(this),200),this._window.addEventListener("scroll",this._eventListener),this._window.addEventListener("resize",this._eventListener),this._refreshView()};r.prototype.defaultOptions={referencesSelector:".reference",fixedContainerLocation:"body",fixedContainerId:"",fixedContainerClass:"fixed-footnotes-container",footnoteClass:"fixed-footnotes-note",transformNote:function(t){return t}},r.prototype.stop=function(){this._window.removeEventListener("scroll",this._eventListener),this._window.removeEventListener("resize",this._eventListener),this._fixedContainer.parentNode.removeChild(this._fixedContainer)},r.prototype.refresh=function(){this._refreshView()},r.prototype.addRefreshListener=function(t){if(!t||"function"!=typeof t)return void console.log("[FixedFootnotes] Attempt to add an illegal listener to refreshes");this._refreshListeners.push(t)},r.prototype.removeRefreshListener=function(t){if(!t||"function"!=typeof t)return void console.log("[FixedFootnotes] Attempt to remove an illegal listener to refreshes");const e=this._refreshListeners.indexOf(t);e>-1?this._refreshListeners.splice(e,1):console.log("[FixedFootnotes] Attempt to remove listener failed: already removed")},r.prototype._createFixedContainer=function(){var t=this._window.document.createElement("div");return t.id=this.options.fixedContainerId,t.className=this.options.fixedContainerClass+" fixed-footnotes-empty",t.appendChild(this._window.document.createElement("ul")),this._window.document.querySelector(this.options.fixedContainerLocation).appendChild(t),t},r.prototype._refreshView=function(){var t=this;o.emptyElement(this._fixedContainerList);var e=!0;this._getReferences().forEach(function(n){var o=t._getNoteFromRef(n);t._shouldDisplayNoteFor(n,o)&&(t._displayNote(o),e=!1)}),e?this._fixedContainer.classList.add("fixed-footnotes-empty"):this._fixedContainer.classList.remove("fixed-footnotes-empty"),this._dispatchRefresh()},r.prototype._getReferences=function(){return this._window.document.querySelectorAll(this.options.referencesSelector)},r.prototype._shouldDisplayNoteFor=function(t,e){return void 0!=e&&o.isElementInViewport(t,this._window)&&!o.isElementInViewport(e,this._window)},r.prototype._getNoteFromRef=function(t){return this._window.document.querySelector(t.getAttribute("href"))},r.prototype._displayNote=function(t){var e=this._window.document.createElement("li");e.className=this.options.footnoteClass,e.innerHTML=t.innerHTML,o.removeAllIds(e),e=this.options.transformNote(e),this._fixedContainerList.appendChild(e)},r.prototype._dispatchRefresh=function(){const t=this._refreshListeners;(this._window.requestAnimationFrame||function(t){setTimeout(t,10)})(function(){t.forEach(function(t){t()})})},t.exports=function(t,e){return new r(t,e)}}]);